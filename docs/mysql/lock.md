---
prev: ./indices
next: ./reference
---

# 锁
为了解决并发操作可能会出现的问题，MySQL 提供了锁机制。根据加锁范围，分为全局锁、表级锁和行级锁。

## 全局锁
使用命令 `FLUSH TABLES WITH READ LOCK` 让整个库处于只读状态。之后其他线程的 DDL(数据定义语言，包括创建表、修改表等)、DML(数据操作语言，包括增、删、改)和更新类的事务的提交语句会被阻塞。  
使用 `UNLOCK TABLES` 解锁。  

### 使用场景
当在进行全库逻辑备份（所有记录查找并保存到文本）时，可以考虑使用全局锁。  
+ 必要性
  + 
+ 缺点
  + 在主库备份时，FTWRL 会使得主库不能执行更新操作，业务停摆；  
  + 若是读写分离的主从库模式，从库备份时，从库不能执行主库同步的 binglog 导致主从延迟。
